# üî¨ Lab Narrative: Remediating "Identity Sprawl" in a Cloud-Native Creative Business

## üìå Executive Summary
In this lab, I simulated a high-risk security baseline for a growing Creator business hosted on AWS. The objective was to transition the environment from a **"Flat Access"** model (where every identity held full administrative rights) to a **Zero-Trust / Least-Privilege** model using Custom IAM Policies. By replacing generic managed policies with granular, condition-based JSON, I effectively neutralized the risk of catastrophic data loss while maintaining creative productivity.

## üõ†Ô∏è The Challenge: "Admin by Default"
Upon initial audit, I identified three critical identities with excessive permissions:
1. **The Creative Director (Human):** Full `AdministratorAccess`.
2. **The Video Editor (Human/Contractor):** Full `AdministratorAccess`.
3. **The Sponsorship Bot (Non-Human/API):** Full `AdministratorAccess`.

**Risk Identified:** A single compromised credential or session hijack of the Freelance Editor would allow an attacker to delete the entire business's digital infrastructure and backup buckets. There was no "Blast Radius" protection.

---

## ‚öôÔ∏è The Action Plan (Remediation)

### Phase 1: Risk Analysis & Rightsizing
I mapped out the **"Minimum Viable Access"** required for the Editor role:
- **Must Do:** `PutObject` (upload) and `ListBucket` (view) media in the specific backup bucket.
- **Must NEVER Do:** `DeleteObject` or access sensitive financial/private buckets.

### Phase 2: Implementation of Scoped Policies
I developed a custom JSON policy to replace the AWS-managed `AdministratorAccess` for the Contractor role. 

**Key Technical Controls Implemented:**
- **Resource Scoping:** Restricted the Editor to the `influencer-video-backups` bucket only, hiding financial and private buckets.
- **Credential Integrity:** Established **MFA requirements** for write actions via a policy `Condition` block.
- **Global Guardrail:** Applied an account-wide `Deny` on `s3:DeleteObject` to act as a fail-safe.

> ### üí° Engineering Insights
> 
> **1. Implicit Deny Behavior:** During testing, I encountered "Implicit Deny" behavior. I learned that even with MFA present, access is denied if the Resource ARN in the request does not perfectly align with the scoped Resource ARN in the policy. This reinforces the importance of precise Resource Tagging and Naming Conventions.
>
> **2. Design Choice: Account-Wide Deletion Guardrail:** I deliberately used a wildcard (`*`) for the `s3:DeleteObject` Deny statement. While "Allow" permissions are strictly scoped, the "Deny" is applied globally. This ensures that even if the identity is accidentally granted permissions elsewhere in the future, the explicit global Deny acts as an overriding fail-safe.

---

## ‚öôÔ∏è Phase 3: Validation (The Audit)

To ensure the technical controls met the governance requirements, I utilized the **AWS IAM Policy Simulator**. This phase verified that the custom JSON policy correctly enforced permissions while maintaining strict security boundaries.

### üî¨ Test Results Summary

| Test Case | AWS Action | Context / Condition | Result |
| :--- | :--- | :--- | :--- |
| **1. Metadata Discovery** | `s3:ListBucket` | Target: `influencer-video-backups` | ‚úÖ **SUCCESS** |
| **2. Content Creation** | `s3:PutObject` | MFA = **True** | ‚úÖ **SUCCESS** |
| **3. Data Integrity** | `s3:DeleteObject` | Target: **Global (*)** | ‚ùå **EXPLICIT DENY** |
| **4. Identity Assurance** | `s3:PutObject` | MFA = **False** | ‚ùå **DENIED** |

---

### üîç Deep-Dive: Audit Observations

* **Verified Workflow:** The Editor successfully retained access to view and upload files to the designated backup bucket, confirming that security did not impede operational productivity.
* **Mitigated Deletion Risk:** Even with administrative-level session tokens, the policy successfully blocked deletion requests. This provides a hard guardrail against accidental data loss or "ransomware-style" deletion attacks.
* **Enforced Identity Assurance:** By testing the `aws:MultiFactorAuthPresent` context key, I verified that the account is protected against credential theft. Without a physical MFA device, the policy defaults to a "Deny" state.
* **Resource Isolation:** Attempts to access buckets outside the designated scope resulted in an automatic block, successfully hiding sensitive business data from the contractor's view.

---

## üìä Business Outcome
By implementing these GRC-driven technical controls, I achieved:
- **90% Reduction** in the identity attack surface.
- **Compliance** with **NIST CSF PR.AC-4** (Least Privilege).
- **Operational Resilience:** The Editor can continue their workflow without needing a "Master Password," and the business owner has verified data protection.

---
*Evidence of this lab including JSON code and simulator test results are documented within this repository.*
